<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prévisualisation Visuelle - Icônes Plan d'Implantation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            padding: 20px;
            color: #0b1120;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        h1 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 10px;
            color: #0b1120;
        }
        .subtitle {
            color: #64748b;
            margin-bottom: 30px;
            font-size: 16px;
        }
        .controls {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .control-group {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }
        .control-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .control-item label {
            font-size: 12px;
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .control-item select {
            padding: 8px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            color: #0b1120;
            cursor: pointer;
            min-width: 200px;
        }
        .control-item select:hover {
            border-color: #8AFD81;
        }
        .control-item select:focus {
            outline: none;
            border-color: #8AFD81;
            box-shadow: 0 0 0 3px rgba(138, 253, 129, 0.1);
        }
        .preview-section {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .preview-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            color: #0b1120;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 15px;
        }
        .plan-preview {
            background: linear-gradient(to bottom, #f8f9fa, #ffffff);
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 40px;
            min-height: 600px;
            position: relative;
        }
        .substation-preview {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }
        .substation-box {
            background: white;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            padding: 15px 30px;
            font-size: 12px;
            font-weight: 700;
            color: #1e293b;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .connection-lines {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }
        .connection-line {
            width: 2px;
            height: 60px;
            background: #8AFD81;
        }
        .power-block-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 40px;
        }
        .power-block-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        .power-block-label {
            background: linear-gradient(to right, rgba(138, 253, 129, 0.15), rgba(138, 253, 129, 0.05));
            border: 1px solid rgba(138, 253, 129, 0.3);
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 10px;
            font-weight: 700;
            color: #0b1120;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .transformer-container-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .transformer-row {
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }
        .container-icon {
            width: 2.5rem;
            height: 4.5rem;
            flex-shrink: 0;
        }
        .transformer-icon {
            width: 2.5rem;
            height: 2.5rem;
            flex-shrink: 0;
        }
        .connection-horizontal {
            width: 12px;
            height: 2px;
            background: #8AFD81;
        }
        .connection-vertical {
            width: 2px;
            height: 40px;
            background: #8AFD81;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 40px;
        }
        .comparison-card {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 25px;
            background: white;
        }
        .comparison-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #0b1120;
        }
        .state-variants {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
        .state-label {
            font-size: 10px;
            font-weight: 700;
            color: #64748b;
            text-transform: uppercase;
            margin-bottom: 8px;
        }
        .state-preview {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Prévisualisation Visuelle</h1>
        <p class="subtitle">Voir les icônes dans le contexte réel du plan d'implantation</p>

        <!-- Contrôles de sélection -->
        <div class="controls">
            <div class="control-group">
                <div class="control-item">
                    <label>Style Conteneur</label>
                    <select id="containerStyle" onchange="updatePreview()">
                        <option value="minimal">Minimaliste</option>
                        <option value="isometric" selected>Isométrique (3D)</option>
                        <option value="symbolic">Symbolique</option>
                        <option value="schematic">Schématique</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>Style Générateur/Transformateur</label>
                    <select id="transformerStyle" onchange="updatePreview()">
                        <option value="cylindrical" selected>Cylindrique</option>
                        <option value="hexagonal">Hexagonal</option>
                        <option value="vertical-coils">Bobines Verticales</option>
                        <option value="schematic-lines">Schématique Lignes</option>
                        <option value="voltage-indicator">Indicateur Tension</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>Style Substation</label>
                    <select id="substationStyle" onchange="updatePreview()">
                        <option value="modern">Moderne</option>
                        <option value="technical">Technique</option>
                        <option value="minimal">Minimaliste</option>
                        <option value="isometric-3d">Isométrique 3D</option>
                        <option value="schematic">Schématique</option>
                    </select>
                </div>
                <div class="control-item">
                    <label>Style Power Block</label>
                    <select id="powerBlockStyle" onchange="updatePreview()">
                        <option value="hexagonal">Hexagonal</option>
                        <option value="rounded">Arrondi</option>
                        <option value="square">Carré</option>
                        <option value="circular">Circulaire</option>
                        <option value="badge">Badge</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Prévisualisation du plan d'implantation -->
        <div class="preview-section">
            <h2 class="preview-title">Vue dans le Plan d'Implantation</h2>
            <div class="plan-preview">
                <!-- Substation -->
                <div class="substation-preview">
                    <div id="substation-display" class="substation-box"></div>
                </div>

                <!-- Lignes de connexion -->
                <div class="connection-lines">
                    <div class="connection-line"></div>
                </div>

                <!-- Power Blocks avec transformateurs et conteneurs -->
                <div class="power-block-row">
                    <!-- Power Block 1 -->
                    <div class="power-block-preview">
                        <div id="powerblock-1" class="power-block-label"></div>
                        <div class="connection-vertical"></div>
                        <div class="transformer-container-preview">
                            <div class="transformer-row">
                                <div id="container-left-1" class="container-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="transformer-1" class="transformer-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="container-right-1" class="container-icon"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Power Block 2 -->
                    <div class="power-block-preview">
                        <div id="powerblock-2" class="power-block-label"></div>
                        <div class="connection-vertical"></div>
                        <div class="transformer-container-preview">
                            <div class="transformer-row">
                                <div id="container-left-2" class="container-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="transformer-2" class="transformer-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="container-right-2" class="container-icon"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Power Block 3 -->
                    <div class="power-block-preview">
                        <div id="powerblock-3" class="power-block-label"></div>
                        <div class="connection-vertical"></div>
                        <div class="transformer-container-preview">
                            <div class="transformer-row">
                                <div id="container-left-3" class="container-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="transformer-3" class="transformer-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="container-right-3" class="container-icon"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Power Block 4 -->
                    <div class="power-block-preview">
                        <div id="powerblock-4" class="power-block-label"></div>
                        <div class="connection-vertical"></div>
                        <div class="transformer-container-preview">
                            <div class="transformer-row">
                                <div id="container-left-4" class="container-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="transformer-4" class="transformer-icon"></div>
                                <div class="connection-horizontal"></div>
                                <div id="container-right-4" class="container-icon"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparaison des états -->
        <div class="preview-section">
            <h2 class="preview-title">États des Conteneurs</h2>
            <div class="comparison-grid">
                <div class="comparison-card">
                    <div class="comparison-title">Conteneur - In Service</div>
                    <div id="container-state-ok" class="container-icon"></div>
                    <div class="state-variants">
                        <div class="state-preview">
                            <div class="state-label">Normal</div>
                            <div id="container-normal" class="container-icon"></div>
                        </div>
                        <div class="state-preview">
                            <div class="state-label">Avertissement</div>
                            <div id="container-warning" class="container-icon"></div>
                        </div>
                    </div>
                </div>
                <div class="comparison-card">
                    <div class="comparison-title">Conteneur - Maintenance/Standby</div>
                    <div id="container-state-off" class="container-icon"></div>
                    <div class="state-variants">
                        <div class="state-preview">
                            <div class="state-label">Maintenance</div>
                            <div id="container-maintenance" class="container-icon"></div>
                        </div>
                        <div class="state-preview">
                            <div class="state-label">Standby</div>
                            <div id="container-standby" class="container-icon"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparaison des options -->
        <div class="preview-section">
            <h2 class="preview-title">Comparaison des Options</h2>
            <div id="comparison-container"></div>
        </div>
    </div>

    <script>
        // Définitions des SVG pour chaque style
        const containerStyles = {
            minimal: (status, hasWarning) => `
                <svg viewBox="0 0 40 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad-min-${status}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="${status === 'In Service' ? '#8AFD81' : '#e2e8f0'}" stopOpacity="${status === 'In Service' ? '0.3' : '0.5'}" />
                            <stop offset="100%" stopColor="${status === 'In Service' ? '#5BC550' : '#cbd5e1'}" stopOpacity="${status === 'In Service' ? '0.5' : '0.6'}" />
                        </linearGradient>
                    </defs>
                    <rect x="4" y="4" width="32" height="64" rx="3" fill="url(#grad-min-${status})" stroke="#1e293b" strokeWidth="2"/>
                    <rect x="8" y="10" width="24" height="18" rx="1" fill="none" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="20" y1="10" x2="20" y2="28" stroke="#1e293b" strokeWidth="1.5"/>
                    <rect x="8" y="32" width="24" height="12" fill="${status === 'In Service' ? '#8AFD81' : '#e2e8f0'}" opacity="0.2" rx="1"/>
                    <text x="20" y="40" fontSize="12" fontWeight="bold" fill="#1e293b" textAnchor="middle">1</text>
                    <rect x="8" y="48" width="24" height="12" fill="none" stroke="#1e293b" strokeWidth="1" rx="1"/>
                    ${hasWarning ? '<circle cx="34" cy="8" r="3" fill="#ef4444"/>' : ''}
                </svg>
            `,
            isometric: (status, hasWarning) => `
                <svg viewBox="0 0 40 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad-iso-${status}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="${status === 'In Service' ? '#8AFD81' : '#e2e8f0'}" stopOpacity="${status === 'In Service' ? '0.4' : '0.5'}" />
                            <stop offset="100%" stopColor="${status === 'In Service' ? '#5BC550' : '#cbd5e1'}" stopOpacity="${status === 'In Service' ? '0.6' : '0.6'}" />
                        </linearGradient>
                    </defs>
                    <path d="M4 4 L36 4 L36 68 L4 68 Z" fill="url(#grad-iso-${status})" stroke="#1e293b" strokeWidth="2"/>
                    <path d="M4 4 L8 0 L40 0 L36 4" fill="${status === 'In Service' ? '#6FD96A' : '#cbd5e1'}" opacity="0.6" stroke="#1e293b" strokeWidth="1.5"/>
                    <path d="M36 4 L40 0 L40 64 L36 68" fill="${status === 'In Service' ? '#5BC550' : '#94a3b8'}" opacity="0.5" stroke="#1e293b" strokeWidth="1.5"/>
                    <rect x="10" y="12" width="10" height="16" rx="1" fill="none" stroke="#1e293b" strokeWidth="1.5"/>
                    <rect x="20" y="12" width="10" height="16" rx="1" fill="none" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="20" y1="12" x2="20" y2="28" stroke="#1e293b" strokeWidth="1.5"/>
                    <rect x="10" y="36" width="20" height="14" fill="${status === 'In Service' ? '#8AFD81' : '#e2e8f0'}" opacity="0.25" rx="1"/>
                    <text x="20" y="46" fontSize="14" fontWeight="bold" fill="#1e293b" textAnchor="middle">1</text>
                    ${hasWarning ? '<circle cx="34" cy="8" r="3" fill="#ef4444"/>' : ''}
                </svg>
            `,
            symbolic: (status, hasWarning) => `
                <svg viewBox="0 0 40 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad-sym-${status}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="${status === 'In Service' ? '#8AFD81' : '#e2e8f0'}" />
                            <stop offset="100%" stopColor="${status === 'In Service' ? '#5BC550' : '#cbd5e1'}" />
                        </linearGradient>
                    </defs>
                    <path d="M20 2 L36 8 L36 64 L20 70 L4 64 L4 8 Z" fill="url(#grad-sym-${status})" stroke="#1e293b" strokeWidth="2"/>
                    <line x1="20" y1="8" x2="20" y2="64" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="10" y1="16" x2="30" y2="16" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="10" y1="32" x2="30" y2="32" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="10" y1="48" x2="30" y2="48" stroke="#1e293b" strokeWidth="1.5"/>
                    <circle cx="20" cy="36" r="8" fill="white" opacity="0.9"/>
                    <text x="20" y="40" fontSize="14" fontWeight="900" fill="#1e293b" textAnchor="middle">1</text>
                    ${hasWarning ? '<circle cx="32" cy="6" r="3" fill="#ef4444"/>' : ''}
                </svg>
            `,
            schematic: (status, hasWarning) => `
                <svg viewBox="0 0 40 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad-sch-${status}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="${status === 'In Service' ? '#8AFD81' : '#e2e8f0'}" stopOpacity="${status === 'In Service' ? '0.2' : '0.5'}" />
                            <stop offset="100%" stopColor="${status === 'In Service' ? '#5BC550' : '#cbd5e1'}" stopOpacity="${status === 'In Service' ? '0.3' : '0.6'}" />
                        </linearGradient>
                    </defs>
                    <rect x="2" y="2" width="36" height="68" rx="2" fill="url(#grad-sch-${status})" stroke="#1e293b" strokeWidth="2"/>
                    <line x1="2" y1="12" x2="38" y2="12" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="2" y1="24" x2="38" y2="24" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="2" y1="36" x2="38" y2="36" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="2" y1="48" x2="38" y2="48" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="2" y1="60" x2="38" y2="60" stroke="#1e293b" strokeWidth="1.5"/>
                    <circle cx="2" cy="12" r="2" fill="${status === 'In Service' ? '#8AFD81' : '#94a3b8'}"/>
                    <circle cx="38" cy="12" r="2" fill="${status === 'In Service' ? '#8AFD81' : '#94a3b8'}"/>
                    <circle cx="2" cy="36" r="2" fill="${status === 'In Service' ? '#8AFD81' : '#94a3b8'}"/>
                    <circle cx="38" cy="36" r="2" fill="${status === 'In Service' ? '#8AFD81' : '#94a3b8'}"/>
                    <text x="20" y="42" fontSize="16" fontWeight="900" fill="#1e293b" textAnchor="middle">1</text>
                    ${hasWarning ? '<circle cx="36" cy="6" r="3" fill="#ef4444"/>' : ''}
                </svg>
            `
        };

        const transformerStyles = {
            'cylindrical': () => `
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="tgrad-cyl" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Forme cylindrique principale -->
                    <ellipse cx="12" cy="6" rx="8" ry="2" fill="url(#tgrad-cyl)" opacity="0.3" stroke="#1e293b" strokeWidth="2"/>
                    <rect x="4" y="6" width="16" height="12" rx="2" fill="url(#tgrad-cyl)" opacity="0.4" stroke="#1e293b" strokeWidth="2"/>
                    <ellipse cx="12" cy="18" rx="8" ry="2" fill="url(#tgrad-cyl)" opacity="0.3" stroke="#1e293b" strokeWidth="2"/>
                    <!-- Lignes de structure -->
                    <line x1="6" y1="6" x2="6" y2="18" stroke="#64748b" strokeWidth="1" opacity="0.6"/>
                    <line x1="12" y1="6" x2="12" y2="18" stroke="#64748b" strokeWidth="1" opacity="0.6"/>
                    <line x1="18" y1="6" x2="18" y2="18" stroke="#64748b" strokeWidth="1" opacity="0.6"/>
                    <!-- Connexions -->
                    <line x1="2" y1="10" x2="4" y2="10" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="2" y1="14" x2="4" y2="14" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="20" y1="10" x2="22" y2="10" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="20" y1="14" x2="22" y2="14" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                </svg>
            `,
            'hexagonal': () => `
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="tgrad-hex" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Forme hexagonale -->
                    <path d="M12 2 L20 6 L20 18 L12 22 L4 18 L4 6 Z" fill="url(#tgrad-hex)" opacity="0.2" stroke="#1e293b" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"/>
                    <!-- Noyau central -->
                    <circle cx="12" cy="12" r="4" fill="none" stroke="#64748b" strokeWidth="1.5"/>
                    <circle cx="12" cy="12" r="2" fill="#64748b" opacity="0.6"/>
                    <!-- Bobines aux angles -->
                    <circle cx="8" cy="8" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <circle cx="16" cy="8" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <circle cx="8" cy="16" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <circle cx="16" cy="16" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <!-- Connexions -->
                    <line x1="2" y1="10" x2="6" y2="10" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <line x1="2" y1="14" x2="6" y2="14" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <line x1="18" y1="10" x2="22" y2="10" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <line x1="18" y1="14" x2="22" y2="14" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                </svg>
            `,
            'vertical-coils': () => `
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="tgrad-vert" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Boîtier principal -->
                    <rect x="6" y="4" width="12" height="16" rx="2" fill="url(#tgrad-vert)" opacity="0.2" stroke="#1e293b" strokeWidth="2"/>
                    <!-- Bobines verticales -->
                    <ellipse cx="9" cy="8" rx="1.5" ry="3" fill="none" stroke="#64748b" strokeWidth="1.8"/>
                    <ellipse cx="9" cy="8" rx="0.8" ry="1.5" fill="#64748b" opacity="0.7"/>
                    <ellipse cx="15" cy="8" rx="1.5" ry="3" fill="none" stroke="#64748b" strokeWidth="1.8"/>
                    <ellipse cx="15" cy="8" rx="0.8" ry="1.5" fill="#64748b" opacity="0.7"/>
                    <ellipse cx="9" cy="16" rx="1.5" ry="3" fill="none" stroke="#64748b" strokeWidth="1.8"/>
                    <ellipse cx="9" cy="16" rx="0.8" ry="1.5" fill="#64748b" opacity="0.7"/>
                    <ellipse cx="15" cy="16" rx="1.5" ry="3" fill="none" stroke="#64748b" strokeWidth="1.8"/>
                    <ellipse cx="15" cy="16" rx="0.8" ry="1.5" fill="#64748b" opacity="0.7"/>
                    <!-- Lignes de connexion -->
                    <line x1="2" y1="8" x2="6" y2="8" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="2" y1="12" x2="6" y2="12" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="2" y1="16" x2="6" y2="16" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="18" y1="8" x2="22" y2="8" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="18" y1="12" x2="22" y2="12" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="18" y1="16" x2="22" y2="16" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                </svg>
            `,
            'schematic-lines': () => `
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Boîtier schématique -->
                    <rect x="4" y="6" width="16" height="12" rx="1" fill="none" stroke="#1e293b" strokeWidth="2.5" strokeDasharray="2 2"/>
                    <!-- Lignes électriques internes -->
                    <line x1="6" y1="8" x2="18" y2="8" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <line x1="6" y1="12" x2="18" y2="12" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <line x1="6" y1="16" x2="18" y2="16" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <!-- Symboles de tension -->
                    <circle cx="8" cy="10" r="1" fill="#64748b"/>
                    <circle cx="16" cy="10" r="1" fill="#64748b"/>
                    <circle cx="8" cy="14" r="1" fill="#64748b"/>
                    <circle cx="16" cy="14" r="1" fill="#64748b"/>
                    <!-- Connexions externes -->
                    <line x1="2" y1="10" x2="4" y2="10" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="2" y1="14" x2="4" y2="14" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="20" y1="10" x2="22" y2="10" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="20" y1="14" x2="22" y2="14" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                </svg>
            `,
            'voltage-indicator': () => `
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="tgrad-volt" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Boîtier principal -->
                    <rect x="5" y="5" width="14" height="14" rx="2" fill="url(#tgrad-volt)" opacity="0.15" stroke="#1e293b" strokeWidth="2"/>
                    <!-- Indicateur de tension central -->
                    <path d="M12 8 L14 12 L12 16 L10 12 Z" fill="#64748b" opacity="0.8"/>
                    <circle cx="12" cy="12" r="3" fill="none" stroke="#64748b" strokeWidth="1.5"/>
                    <!-- Lignes de mesure -->
                    <line x1="12" y1="6" x2="12" y2="8" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <line x1="12" y1="16" x2="12" y2="18" stroke="#64748b" strokeWidth="1.5" strokeLinecap="round"/>
                    <!-- Bobines latérales -->
                    <circle cx="7" cy="10" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <circle cx="7" cy="14" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <circle cx="17" cy="10" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <circle cx="17" cy="14" r="1.5" fill="none" stroke="#64748b" strokeWidth="1.2"/>
                    <!-- Connexions -->
                    <line x1="2" y1="10" x2="5" y2="10" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="2" y1="14" x2="5" y2="14" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="19" y1="10" x2="22" y2="10" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="19" y1="14" x2="22" y2="14" stroke="#64748b" strokeWidth="2" strokeLinecap="round"/>
                </svg>
            `
        };

        const substationStyles = {
            'modern': () => `
                <svg viewBox="0 0 240 80" width="360" height="120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="sub-modern" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Structure principale moderne -->
                    <rect x="20" y="20" width="200" height="40" rx="4" fill="url(#sub-modern)" opacity="0.15" stroke="#1e293b" strokeWidth="2.5"/>
                    <!-- Transformateurs centraux -->
                    <rect x="60" y="30" width="30" height="20" rx="2" fill="url(#sub-modern)" opacity="0.3" stroke="#64748b" strokeWidth="2"/>
                    <rect x="110" y="30" width="30" height="20" rx="2" fill="url(#sub-modern)" opacity="0.3" stroke="#64748b" strokeWidth="2"/>
                    <rect x="160" y="30" width="30" height="20" rx="2" fill="url(#sub-modern)" opacity="0.3" stroke="#64748b" strokeWidth="2"/>
                    <!-- Lignes électriques -->
                    <line x1="10" y1="25" x2="230" y2="25" stroke="#8AFD81" strokeWidth="3" strokeLinecap="round"/>
                    <line x1="10" y1="35" x2="230" y2="35" stroke="#8AFD81" strokeWidth="3" strokeLinecap="round"/>
                    <line x1="10" y1="45" x2="230" y2="45" stroke="#8AFD81" strokeWidth="3" strokeLinecap="round"/>
                    <line x1="10" y1="55" x2="230" y2="55" stroke="#8AFD81" strokeWidth="3" strokeLinecap="round"/>
                    <!-- Texte -->
                    <text x="120" y="15" fontSize="12" fontWeight="700" fill="#1e293b" textAnchor="middle">SUBSTATION 132/33 kV</text>
                </svg>
            `,
            'technical': () => `
                <svg viewBox="0 0 240 80" width="360" height="120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="sub-tech" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Poteaux techniques -->
                    <rect x="15" y="15" width="4" height="50" fill="url(#sub-tech)" rx="2"/>
                    <rect x="115" y="15" width="4" height="50" fill="url(#sub-tech)" rx="2"/>
                    <rect x="221" y="15" width="4" height="50" fill="url(#sub-tech)" rx="2"/>
                    <!-- Lignes haute tension -->
                    <line x1="17" y1="20" x2="223" y2="20" stroke="#8AFD81" strokeWidth="4" strokeLinecap="round"/>
                    <line x1="17" y1="30" x2="223" y2="30" stroke="#8AFD81" strokeWidth="4" strokeLinecap="round"/>
                    <line x1="17" y1="40" x2="223" y2="40" stroke="#8AFD81" strokeWidth="4" strokeLinecap="round"/>
                    <!-- Isolateurs -->
                    <circle cx="60" cy="20" r="4" fill="white" opacity="0.9" stroke="#94a3b8" strokeWidth="1.5"/>
                    <circle cx="120" cy="20" r="4" fill="white" opacity="0.9" stroke="#94a3b8" strokeWidth="1.5"/>
                    <circle cx="180" cy="20" r="4" fill="white" opacity="0.9" stroke="#94a3b8" strokeWidth="1.5"/>
                    <!-- Transformateurs -->
                    <rect x="50" y="50" width="25" height="15" rx="2" fill="url(#sub-tech)" opacity="0.4" stroke="#64748b" strokeWidth="2"/>
                    <rect x="107.5" y="50" width="25" height="15" rx="2" fill="url(#sub-tech)" opacity="0.4" stroke="#64748b" strokeWidth="2"/>
                    <rect x="165" y="50" width="25" height="15" rx="2" fill="url(#sub-tech)" opacity="0.4" stroke="#64748b" strokeWidth="2"/>
                    <!-- Texte -->
                    <text x="120" y="12" fontSize="11" fontWeight="700" fill="#1e293b" textAnchor="middle">SUBSTATION 132/33 kV</text>
                </svg>
            `,
            'minimal': () => `
                <svg viewBox="0 0 240 80" width="360" height="120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Boîtier minimaliste -->
                    <rect x="30" y="25" width="180" height="30" rx="3" fill="none" stroke="#1e293b" strokeWidth="2.5"/>
                    <!-- Lignes simples -->
                    <line x1="20" y1="30" x2="220" y2="30" stroke="#8AFD81" strokeWidth="2.5" strokeLinecap="round"/>
                    <line x1="20" y1="40" x2="220" y2="40" stroke="#8AFD81" strokeWidth="2.5" strokeLinecap="round"/>
                    <line x1="20" y1="50" x2="220" y2="50" stroke="#8AFD81" strokeWidth="2.5" strokeLinecap="round"/>
                    <!-- Points de connexion -->
                    <circle cx="70" cy="40" r="3" fill="#8AFD81"/>
                    <circle cx="120" cy="40" r="3" fill="#8AFD81"/>
                    <circle cx="170" cy="40" r="3" fill="#8AFD81"/>
                    <!-- Texte -->
                    <text x="120" y="20" fontSize="12" fontWeight="700" fill="#1e293b" textAnchor="middle">SUBSTATION 132/33 kV</text>
                </svg>
            `,
            'isometric-3d': () => `
                <svg viewBox="0 0 240 80" width="360" height="120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="sub-iso" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#475569" />
                            <stop offset="100%" stopColor="#334155" />
                        </linearGradient>
                    </defs>
                    <!-- Face principale isométrique -->
                    <path d="M30 30 L210 30 L210 60 L30 60 Z" fill="url(#sub-iso)" opacity="0.2" stroke="#1e293b" strokeWidth="2.5"/>
                    <!-- Face supérieure (isométrique) -->
                    <path d="M30 30 L40 20 L220 20 L210 30" fill="url(#sub-iso)" opacity="0.3" stroke="#1e293b" strokeWidth="2"/>
                    <!-- Face latérale -->
                    <path d="M210 30 L220 20 L220 50 L210 60" fill="url(#sub-iso)" opacity="0.25" stroke="#1e293b" strokeWidth="2"/>
                    <!-- Transformateurs isométriques -->
                    <path d="M70 50 L90 50 L90 60 L70 60 Z" fill="url(#sub-iso)" opacity="0.4" stroke="#64748b" strokeWidth="1.5"/>
                    <path d="M70 50 L75 45 L95 45 L90 50" fill="url(#sub-iso)" opacity="0.3" stroke="#64748b" strokeWidth="1.5"/>
                    <path d="M120 50 L140 50 L140 60 L120 60 Z" fill="url(#sub-iso)" opacity="0.4" stroke="#64748b" strokeWidth="1.5"/>
                    <path d="M120 50 L125 45 L145 45 L140 50" fill="url(#sub-iso)" opacity="0.3" stroke="#64748b" strokeWidth="1.5"/>
                    <path d="M170 50 L190 50 L190 60 L170 60 Z" fill="url(#sub-iso)" opacity="0.4" stroke="#64748b" strokeWidth="1.5"/>
                    <path d="M170 50 L175 45 L195 45 L190 50" fill="url(#sub-iso)" opacity="0.3" stroke="#64748b" strokeWidth="1.5"/>
                    <!-- Lignes -->
                    <line x1="25" y1="35" x2="215" y2="35" stroke="#8AFD81" strokeWidth="3" strokeLinecap="round"/>
                    <line x1="25" y1="45" x2="215" y2="45" stroke="#8AFD81" strokeWidth="3" strokeLinecap="round"/>
                    <!-- Texte -->
                    <text x="120" y="18" fontSize="11" fontWeight="700" fill="#1e293b" textAnchor="middle">SUBSTATION 132/33 kV</text>
                </svg>
            `,
            'schematic': () => `
                <svg viewBox="0 0 240 80" width="360" height="120" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Boîtier schématique -->
                    <rect x="25" y="20" width="190" height="40" rx="2" fill="none" stroke="#1e293b" strokeWidth="2.5" strokeDasharray="3 3"/>
                    <!-- Lignes électriques schématiques -->
                    <line x1="15" y1="25" x2="225" y2="25" stroke="#8AFD81" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="15" y1="35" x2="225" y2="35" stroke="#8AFD81" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="15" y1="45" x2="225" y2="45" stroke="#8AFD81" strokeWidth="2" strokeLinecap="round"/>
                    <line x1="15" y1="55" x2="225" y2="55" stroke="#8AFD81" strokeWidth="2" strokeLinecap="round"/>
                    <!-- Symboles de transformateurs -->
                    <circle cx="70" cy="40" r="8" fill="none" stroke="#64748b" strokeWidth="2"/>
                    <circle cx="70" cy="40" r="4" fill="#64748b" opacity="0.6"/>
                    <circle cx="120" cy="40" r="8" fill="none" stroke="#64748b" strokeWidth="2"/>
                    <circle cx="120" cy="40" r="4" fill="#64748b" opacity="0.6"/>
                    <circle cx="170" cy="40" r="8" fill="none" stroke="#64748b" strokeWidth="2"/>
                    <circle cx="170" cy="40" r="4" fill="#64748b" opacity="0.6"/>
                    <!-- Connexions -->
                    <line x1="62" y1="40" x2="70" y2="40" stroke="#64748b" strokeWidth="1.5"/>
                    <line x1="78" y1="40" x2="112" y2="40" stroke="#64748b" strokeWidth="1.5"/>
                    <line x1="128" y1="40" x2="162" y2="40" stroke="#64748b" strokeWidth="1.5"/>
                    <line x1="178" y1="40" x2="225" y2="40" stroke="#64748b" strokeWidth="1.5"/>
                    <!-- Texte -->
                    <text x="120" y="15" fontSize="11" fontWeight="700" fill="#1e293b" textAnchor="middle">SUBSTATION 132/33 kV</text>
                </svg>
            `
        };

        const powerBlockStyles = {
            'hexagonal': (num) => `
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="pb-hex-${num}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#8AFD81" />
                            <stop offset="50%" stopColor="#6FD96A" />
                            <stop offset="100%" stopColor="#5BC550" />
                        </linearGradient>
                    </defs>
                    <path d="M12 2 L20 6 L20 14 L12 18 L4 14 L4 6 Z" fill="url(#pb-hex-${num})" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="12" y1="6" x2="12" y2="14" stroke="#1e293b" strokeWidth="1.2"/>
                    <line x1="8" y1="8" x2="16" y2="8" stroke="#1e293b" strokeWidth="1.2"/>
                    <line x1="8" y1="12" x2="16" y2="12" stroke="#1e293b" strokeWidth="1.2"/>
                    <circle cx="12" cy="4" r="1.5" fill="#1e293b"/>
                    <circle cx="12" cy="16" r="1.5" fill="#1e293b"/>
                    <text x="12" y="22" fontSize="9" fontWeight="900" fill="#1e293b" textAnchor="middle" letterSpacing="1">${num}</text>
                </svg>
            `,
            'rounded': (num) => `
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="pb-round-${num}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#8AFD81" stopOpacity="0.9" />
                            <stop offset="50%" stopColor="#6FD96A" stopOpacity="1" />
                            <stop offset="100%" stopColor="#5BC550" stopOpacity="0.9" />
                        </linearGradient>
                    </defs>
                    <rect x="4" y="4" width="16" height="14" rx="3" fill="url(#pb-round-${num})" stroke="#5BC550" strokeWidth="2"/>
                    <line x1="6" y1="8" x2="18" y2="8" stroke="#1e293b" strokeWidth="1.5" strokeLinecap="round" opacity="0.7"/>
                    <line x1="6" y1="12" x2="18" y2="12" stroke="#1e293b" strokeWidth="1.5" strokeLinecap="round" opacity="0.7"/>
                    <line x1="6" y1="16" x2="18" y2="16" stroke="#1e293b" strokeWidth="1.5" strokeLinecap="round" opacity="0.7"/>
                    <circle cx="4" cy="12" r="2" fill="#5BC550" opacity="0.9"/>
                    <circle cx="20" cy="12" r="2" fill="#5BC550" opacity="0.9"/>
                    <circle cx="12" cy="12" r="2.5" fill="#1e293b" opacity="0.4"/>
                    <path d="M12 10L12 14M10 12L14 12" stroke="#1e293b" strokeWidth="2" strokeLinecap="round" opacity="0.9"/>
                    <text x="12" y="22" fontSize="9" fontWeight="900" fill="#1e293b" textAnchor="middle" letterSpacing="1">${num}</text>
                </svg>
            `,
            'square': (num) => `
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="pb-sq-${num}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#8AFD81" />
                            <stop offset="100%" stopColor="#5BC550" />
                        </linearGradient>
                    </defs>
                    <rect x="3" y="5" width="18" height="14" rx="1" fill="url(#pb-sq-${num})" stroke="#1e293b" strokeWidth="2"/>
                    <rect x="6" y="8" width="12" height="8" fill="none" stroke="#1e293b" strokeWidth="1.5" opacity="0.6"/>
                    <line x1="9" y1="10" x2="15" y2="10" stroke="#1e293b" strokeWidth="1.2"/>
                    <line x1="9" y1="14" x2="15" y2="14" stroke="#1e293b" strokeWidth="1.2"/>
                    <text x="12" y="22" fontSize="10" fontWeight="900" fill="#1e293b" textAnchor="middle" letterSpacing="1">${num}</text>
                </svg>
            `,
            'circular': (num) => `
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="pb-circ-${num}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#8AFD81" />
                            <stop offset="100%" stopColor="#5BC550" />
                        </linearGradient>
                    </defs>
                    <circle cx="12" cy="12" r="8" fill="url(#pb-circ-${num})" stroke="#1e293b" strokeWidth="2"/>
                    <circle cx="12" cy="12" r="5" fill="none" stroke="#1e293b" strokeWidth="1.5" opacity="0.6"/>
                    <line x1="12" y1="7" x2="12" y2="17" stroke="#1e293b" strokeWidth="1.5"/>
                    <line x1="7" y1="12" x2="17" y2="12" stroke="#1e293b" strokeWidth="1.5"/>
                    <text x="12" y="22" fontSize="9" fontWeight="900" fill="#1e293b" textAnchor="middle" letterSpacing="1">${num}</text>
                </svg>
            `,
            'badge': (num) => `
                <svg viewBox="0 0 24 24" width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="pb-badge-${num}" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stopColor="#8AFD81" stopOpacity="0.9" />
                            <stop offset="100%" stopColor="#5BC550" stopOpacity="0.9" />
                        </linearGradient>
                    </defs>
                    <rect x="4" y="6" width="16" height="12" rx="2" fill="url(#pb-badge-${num})" stroke="#5BC550" strokeWidth="2"/>
                    <rect x="6" y="8" width="12" height="8" fill="none" stroke="#1e293b" strokeWidth="1.5" opacity="0.5"/>
                    <path d="M8 10 L16 10 M8 12 L16 12 M8 14 L16 14" stroke="#1e293b" strokeWidth="1.2" strokeLinecap="round"/>
                    <circle cx="12" cy="12" r="1.5" fill="#1e293b" opacity="0.6"/>
                    <text x="12" y="22" fontSize="9" fontWeight="900" fill="#1e293b" textAnchor="middle" letterSpacing="1">${num}</text>
                </svg>
            `
        };

        function updatePreview() {
            const containerStyle = document.getElementById('containerStyle').value;
            const transformerStyle = document.getElementById('transformerStyle').value;
            const substationStyle = document.getElementById('substationStyle').value;
            const powerBlockStyle = document.getElementById('powerBlockStyle').value;

            // Mettre à jour tous les conteneurs dans le plan
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`container-left-${i}`).innerHTML = containerStyles[containerStyle]('In Service', false);
                document.getElementById(`container-right-${i}`).innerHTML = containerStyles[containerStyle]('In Service', false);
            }

            // Mettre à jour tous les transformateurs
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`transformer-${i}`).innerHTML = transformerStyles[transformerStyle]();
            }

            // Mettre à jour la substation
            document.getElementById('substation-display').innerHTML = substationStyles[substationStyle]();

            // Mettre à jour tous les Power Blocks
            for (let i = 1; i <= 4; i++) {
                const pbElement = document.getElementById(`powerblock-${i}`);
                pbElement.innerHTML = powerBlockStyles[powerBlockStyle](i) + `<span style="font-size: 9px; font-weight: bold; color: #0b1120;">Power block ${i}</span>`;
            }

            // Mettre à jour les états
            document.getElementById('container-state-ok').innerHTML = containerStyles[containerStyle]('In Service', false);
            document.getElementById('container-state-off').innerHTML = containerStyles[containerStyle]('Maintenance', false);
            document.getElementById('container-normal').innerHTML = containerStyles[containerStyle]('In Service', false);
            document.getElementById('container-warning').innerHTML = containerStyles[containerStyle]('In Service', true);
            document.getElementById('container-maintenance').innerHTML = containerStyles[containerStyle]('Maintenance', false);
            document.getElementById('container-standby').innerHTML = containerStyles[containerStyle]('Standby', false);

            // Mettre à jour la comparaison
            updateComparison();
        }

        function updateComparison() {
            const containerStyle = document.getElementById('containerStyle').value;
            const transformerStyle = document.getElementById('transformerStyle').value;
            
            const comparisonHTML = `
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;">
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Minimaliste</div>
                        <div style="display: flex; justify-content: center;">${containerStyles['minimal']('In Service', false)}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Isométrique</div>
                        <div style="display: flex; justify-content: center;">${containerStyles['isometric']('In Service', false)}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Symbolique</div>
                        <div style="display: flex; justify-content: center;">${containerStyles['symbolic']('In Service', false)}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Schématique</div>
                        <div style="display: flex; justify-content: center;">${containerStyles['schematic']('In Service', false)}</div>
                    </div>
                </div>
                <div style="margin-top: 30px; display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px;">
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Cylindrique</div>
                        <div style="display: flex; justify-content: center;">${transformerStyles['cylindrical']()}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Hexagonal</div>
                        <div style="display: flex; justify-content: center;">${transformerStyles['hexagonal']()}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Bobines Verticales</div>
                        <div style="display: flex; justify-content: center;">${transformerStyles['vertical-coils']()}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Schématique Lignes</div>
                        <div style="display: flex; justify-content: center;">${transformerStyles['schematic-lines']()}</div>
                    </div>
                    <div style="border: 2px solid #e2e8f0; border-radius: 8px; padding: 15px; text-align: center;">
                        <div style="font-size: 12px; font-weight: 700; margin-bottom: 10px; color: #64748b;">Indicateur Tension</div>
                        <div style="display: flex; justify-content: center;">${transformerStyles['voltage-indicator']()}</div>
                    </div>
                </div>
            `;
            
            document.getElementById('comparison-container').innerHTML = comparisonHTML;
        }

        // Initialisation avec conteneurs 3D et transformateurs cylindriques par défaut
        document.getElementById('containerStyle').value = 'isometric';
        document.getElementById('transformerStyle').value = 'cylindrical';
        document.getElementById('substationStyle').value = 'modern';
        document.getElementById('powerBlockStyle').value = 'hexagonal';
        updatePreview();
    </script>
</body>
</html>


